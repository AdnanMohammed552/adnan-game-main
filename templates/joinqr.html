<meta name="viewport" content="width=device-width, initial-scale=1">

{% extends 'base.html' %}
<meta name="viewport" content="width=device-width, initial-scale=1">

{% block title %}
<title>Join room</title>
{% endblock %}


{% block content %}
<meta name="viewport" content="width=device-width, initial-scale=1">

<section dir="ltr">
  <!-- Horizontal material form -->
  <!-- Grid row -->
 
  <!-- Grid row -->

  <!-- Grid row -->
  <div class="form-group row">
    <!-- Material input -->
    <label for="inputPassword3MD" class="col-sm-2 col-form-label">Enter your Name</label>
    <div class="col-sm-10">
      <div class="md-form mt-0">
        <input  class="form-control" type="text" name="username" id="username" placeholder="You Name">
      </div>
    </div>
  </div>
  <!-- Grid row -->

  <!-- Grid row -->
  <div class="form-group row">
    <div class="col-sm-10">
      <button type="button" id="submintt" class="btn btn-primary btn-md">Joiny42 room</button>
    </div>
  </div>
  <!-- Grid row -->

</section>

{{ room|json_script:'json-roomcode' }}


  <script>
    const roomCode = JSON.parse(document.getElementById('json-roomcode').textContent);

    document.querySelector('#submintt').onclick = function(e) {
            
      const userName = document.querySelector('#username').value;           
      console.log('Ima here' , roomCode,userName)
      

      
      window.location.replace('/wait/'+roomCode+'?username=' + userName)

        

    };
  </script>
{% endblock %}