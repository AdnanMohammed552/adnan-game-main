{% extends 'base.html' %}

{% block content %}

<head>
	<meta charset="UTF-8">
	<title>Quiz Title</title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
	<!-- Custom CSS -->
	<style>
		
	</style>
</head>
<body >
	<div class="container">
        {% for x in w %}
		<h1 class="text-center mt-5 mb-3">{{x.title}}</h1>
		<h3 class="text-center"><span id="fwwfv"> Question number: </span><strong>{{x.num}}</strong> </h3>

		<h4 class="text-center mb-5"><span id="dw"> Created by: </span><strong>{{x.user}}</strong><span id="dwwf"> on: </span><strong>{{x.date}}</strong></h4>
		
		<!-- Quiz questions and answers go here -->
		{% endfor %}
	</div>
  <div class="d-flex justify-content-center align-items-center">
    <div class="dropdown">
      <button class="btn dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Challenge friends
      </button>
      <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
        <a class="dropdown-item" id="challenge" href="#">Normal Game</a>
        <a class="dropdown-item" id="challengeqr" href="#">QR codes game</a>
      </div>
    </div>
  
    <a id="view" class="btn mx-1">Last played</a>
    <a id="view_que" class="btn mx-1">View Questions</a>
  
    <a id="edit" class="btn mx-1">Edit</a>
  </div>
  
	<!-- Bootstrap JS -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
      if(lang=='arabic'){
        document.getElementById('challenge').innerHTML = 'بدأ الاختبار'
        document.getElementById('view').innerHTML = 'اخر ما تم لعبه'
        document.getElementById('edit').innerHTML = 'تعديل'
        document.getElementById('dw').innerHTML = 'أنشأه: '
        document.getElementById('dwwf').innerHTML = 'في: '
        document.getElementById('fwwfv').innerHTML = 'عدد الأسئلة: '

    
      }
        document.getElementById('challenge').onclick = function(){
            sessionStorage.setItem("pageState", "redirected");

            // Redirect to the new URL using window.location
            window.location.href =  window.location.origin + window.location.pathname+'start'
            
            // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
            window.addEventListener("pageshow", function(event) {
              // Check if the page state is set to "redirected"
              if (sessionStorage.getItem("pageState") === "redirected") {
                // Reload the page to update its content
                window.location.reload();
                // Reset the page state to avoid an infinite loop
                sessionStorage.setItem("pageState", "reloaded");
              }
            });
        }
        
        document.getElementById('view_que').onclick=function(){
          sessionStorage.setItem("pageState", "redirected");

          // Redirect to the new URL using window.location
          window.location.href =  window.location.origin + window.location.pathname+'view_questions'
          
          // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
          window.addEventListener("pageshow", function(event) {
            // Check if the page state is set to "redirected"
            if (sessionStorage.getItem("pageState") === "redirected") {
              // Reload the page to update its content
              window.location.reload();
              // Reset the page state to avoid an infinite loop
              sessionStorage.setItem("pageState", "reloaded");
            }
          });
        }
        document.getElementById('challengeqr').onclick = function(){
          sessionStorage.setItem("pageState", "redirected");

          // Redirect to the new URL using window.location
          window.location.href =  window.location.origin + window.location.pathname+'startqr'
          
          // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
          window.addEventListener("pageshow", function(event) {
            // Check if the page state is set to "redirected"
            if (sessionStorage.getItem("pageState") === "redirected") {
              // Reload the page to update its content
              window.location.reload();
              // Reset the page state to avoid an infinite loop
              sessionStorage.setItem("pageState", "reloaded");
            }
          });
      }
   
        document.getElementById('view').onclick = function(){
          sessionStorage.setItem("pageState", "redirected");

          // Redirect to the new URL using window.location
          window.location.href =  window.location.origin + window.location.pathname+'last'
          
          // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
          window.addEventListener("pageshow", function(event) {
            // Check if the page state is set to "redirected"
            if (sessionStorage.getItem("pageState") === "redirected") {
              // Reload the page to update its content
              window.location.reload();
              // Reset the page state to avoid an infinite loop
              sessionStorage.setItem("pageState", "reloaded");
            }
          });
      }

        document.getElementById('edit').onclick = function(){
          sessionStorage.setItem("pageState", "redirected");

            // Redirect to the new URL using window.location
            window.location.href =  window.location.origin + window.location.pathname+'edit'
            
            // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
            window.addEventListener("pageshow", function(event) {
              // Check if the page state is set to "redirected"
              if (sessionStorage.getItem("pageState") === "redirected") {
                // Reload the page to update its content
                window.location.reload();
                // Reset the page state to avoid an infinite loop
                sessionStorage.setItem("pageState", "reloaded");
              }
            });

        }
    </script>
</body>





{% endblock %}