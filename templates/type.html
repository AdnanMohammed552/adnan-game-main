<meta name="viewport" content="width=device-width, initial-scale=1">

{% extends 'base.html' %}
<meta name="viewport" content="width=device-width, initial-scale=1">

{% block title %}
<title>Room</title>
{% endblock %}

{% block content %}
<div class="container">

<section>
    <div class="d-grid gap-2">
        
        <a class="nav-link text-center display-6" href="/account/home"><span id="feqwv"> Hello, </span>{{request.user.username}}</a>
        <style>
          .transparent-btn {
            background-color: transparent;
            border: none;
            padding: 0;
          }
          
          .transparent-btn:focus {
            outline: none;
          }
          
          .transparent-btn img {
            width: 100%;
            height: auto;
          }
          
        </style>

        <div class="container">
          <div class="row">
            <div class="col-sm-12"style='float:left'>
              <h3 style="color: black;">Select game type</h3>
              <hr>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <button style="margin-bottom: 10px;"  class="btn transparent-btn" type="submit" id="Create">
                <img src="https://i.postimg.cc/RFySJTvQ/Untitled-1.png" alt="buttonpng" />
              </button>
            </div>
            <div class="col-sm-6">
              <button class="btn transparent-btn" type="submit" id="Join">
                <img src="https://dz8fbjd9gwp2s.cloudfront.net/courses/60408b740cf27f88f14f9423/60408b740cf27f88f14f9423_scaled_cover.jpg" alt="buttonpng" />
              </button>
            </div>
          </div>
        </div>
        

    </div>
    <hr>
  <h4 id="error"></h4>
</section>
</div>


<script>
    
  const lang1 = '{{lang}}'

  if(lang1=='arabic'){
    document.getElementById('feqwv').innerHTML = 'مرحبا '
    
  }
        function toggleFullScreen() {
            if ((document.fullScreenElement && document.fullScreenElement !== null) ||    
             (!document.mozFullScreen && !document.webkitIsFullScreen)) {
              if (document.documentElement.requestFullScreen) {  
                document.documentElement.requestFullScreen();  
              } else if (document.documentElement.mozRequestFullScreen) {  
                document.documentElement.mozRequestFullScreen();  
              } else if (document.documentElement.webkitRequestFullScreen) {  
                document.documentElement.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);  
              }  
            } else {  
              if (document.cancelFullScreen) {  
                document.cancelFullScreen();  
              } else if (document.mozCancelFullScreen) {  
                document.mozCancelFullScreen();  
              } else if (document.webkitCancelFullScreen) {  
                document.webkitCancelFullScreen();  
              }  
            }  
          }
    
    document.querySelector('#Create').onclick = function(e){

        sessionStorage.setItem("pageState", "redirected");

// Redirect to the new URL using window.location
window.location.href = window.location.origin +'/create'

// Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
window.addEventListener("pageshow", function(event) {
  // Check if the page state is set to "redirected"
  if (sessionStorage.getItem("pageState") === "redirected") {
    // Reload the page to update its content
    window.location.reload();
    // Reset the page state to avoid an infinite loop
    sessionStorage.setItem("pageState", "reloaded");
  }
});

    };

    
    document.getElementById('Join').onclick = function(e) {
      sessionStorage.setItem("pageState", "redirected");

      // Redirect to the new URL using window.location
      window.location.href = window.location.origin +'/quiz'
      
      // Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
      window.addEventListener("pageshow", function(event) {
        // Check if the page state is set to "redirected"
        if (sessionStorage.getItem("pageState") === "redirected") {
          // Reload the page to update its content
          window.location.reload();
          // Reset the page state to avoid an infinite loop
          sessionStorage.setItem("pageState", "reloaded");
        }
      });

    }
</script>
{% endblock %}