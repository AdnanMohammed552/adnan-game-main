{% extends 'base.html' %}

{% load num %}


<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="viewport" content="width=device-width, initial-scale=1">

{% block title %}
<title>Create New room</title>
{% endblock %}
{% block content %}
<center>
    
{% for i in z %}

{% if i|is_numberic %}
<button type="submit" class="btn btn-primary" id="{{i}}" onclick="redirect('{{i}}')" style="background-color: green;">{{i}}</button>
<br>
<hr>
{% else %}
<h3 >{{i}}</h3>

{% endif %}



{% endfor %}
</center>
<div id="dis"></div>
<script>
    function redirect(code){
       
  // Store the current page state in a session storage variable
sessionStorage.setItem("pageState", "redirected");

// Redirect to the new URL using window.location
window.location.href = window.location.origin +'/account/game/quiz/' +code

// Add an event listener for the "pageshow" event, which is triggered when the user navigates back to the page
window.addEventListener("pageshow", function(event) {
  // Check if the page state is set to "redirected"
  if (sessionStorage.getItem("pageState") === "redirected") {
    // Reload the page to update its content
    window.location.reload();
    // Reset the page state to avoid an infinite loop
    sessionStorage.setItem("pageState", "reloaded");
  }
});
    }



</script>

{% endblock %}