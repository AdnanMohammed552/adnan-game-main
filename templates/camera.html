<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>QR Code Scanner</title>
  </head>
  <body>
    <video id="video" width="320" height="240" autoplay></video>
    <div id="result"></div>
    <script src="https://unpkg.com/@zxing/library@latest"></script>
    <script>
      const codeReader = new ZXing.BrowserMultiFormatReader();
      const video = document.getElementById('video');
      const resultDiv = document.getElementById('result');

      codeReader.decodeFromInputVideoDevice(undefined, 'video').then(result => {
        console.log(result);
        resultDiv.textContent = result.text;
      }).catch(err => console.error(err));

      codeReader.listVideoInputDevices()
        .then((videoInputDevices) => {
          if (videoInputDevices.length > 0) {
            codeReader.decodeFromInputVideoDevice(videoInputDevices[0].deviceId, 'video')
              .then(result => console.log(result))
              .catch(err => console.error(err));
          }
        })
        .catch(err => console.error(err));
    </script>
  </body>
</html>
